import{a6 as Y,aQ as ze,cN as ke,dX as Ae,cT as Ee,Y as F,b9 as Be,ba as $e,aP as je,bh as We,a7 as Ge,dY as ce,j as q,cG as ve,z as Ye,o as Ue,ay as Ve,bg as Ne,dZ as Fe,d_ as qe,cO as He,d$ as Xe,bM as Ze,bZ as Je,ar as Ke,e0 as Qe,b1 as ea,cs as he,bw as aa,e1 as ta,e2 as ra,c$ as ia,e3 as sa,be as na,e4 as la,e5 as oa,B as da,ac as ge,C as fe,d6 as me,e6 as ua,G as H,bL as ca,e7 as va,cc as ha,br as ga,a5 as fa,aV as ma,e8 as pa,am as X,e9 as ya,bY as ba,ea as Sa,eb as wa,cL as Pa,ec as Ma,ed as pe,c9 as Ca,cX as Ia,aX as ye,ee as Ta,c8 as Z,ce as _a,ef as xa,eg as La,x as G,eh as Da,ei as Oa,d5 as Ra,ej as za,ek as ka,el as Aa,cV as Ea,em as Ba,en as $a,ab as ja,an as Wa,d as Ga,A as Ya,h as Ua,K as Va,ax as Na,X as Fa,eo as qa,N as Ha,U as Xa,ao as Za,W as Ja,k as Ka,b3 as Qa,c0 as et,b7 as J,b6 as K,S as Q,b as ee,b8 as at,T as be,ep as tt,eq as rt,er as it,es as st,et as nt,eu as lt,ev as ot,ew as dt,cM as ut,ex as ct,ey as vt,ez as ht,eA as gt,dV as ft,eB as mt,eC as pt,eD as ne,eE as yt,eF as bt,eG as St,eH as wt,eI as Pt,dW as Mt,eJ as Ct,eK as It,eL as Tt,eM as _t,eN as xt,eO as Lt,eP as Dt,eQ as Ot,eR as Rt,eS as zt,eT as kt,u as U,eU as At,eV as Et,eW as Bt,eX as $t,dA as Se,dS as we,dU as Pe,p as jt,dM as Wt,dL as Gt,dI as Yt,dR as Ut,dN as Vt,dJ as Nt,l as Ft,dK as qt,dO as Ht,dC as Xt,dB as Zt,dH as Jt,dD as Kt,dE as Qt,dF as er,dG as ar,dT as tr}from"./installCanvasRenderer-jwypoAcp.js";import{d as Me,A as rr,m as le,v as oe,H as ir,ai as sr,a1 as nr,Q as lr,a4 as or,o as dr,c as ur,D as cr,aj as vr}from"./index-jvtWBQTx.js";import{u as hr}from"./index-Gg_wllbp.js";function gr(e,a,r,u,c,n,m,_){var l=new Y({style:{text:e,font:a,align:r,verticalAlign:u,padding:c,rich:n,overflow:m?"truncate":null,lineHeight:_}});return l.getBoundingRect()}function fr(e){return ze(null,e)}var mr={isDimensionStacked:ke,enableDataStack:Ae,getStackedDimension:Ee};function pr(e,a){var r=a;a instanceof F||(r=new F(a));var u=Be(r);return u.setExtent(e[0],e[1]),$e(u,r),u}function yr(e){je(e,We)}function Ce(e,a){return a=a||{},Ge(e,null,null,a.state!=="normal")}const br=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:ce,createList:fr,createScale:pr,createSymbol:q,createTextStyle:Ce,dataStack:mr,enableHoverEmphasis:ve,getECData:Ye,getLayoutRect:Ue,mixinAxisModelCommonMethods:yr},Symbol.toStringTag,{value:"Module"})),Sr=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:Ve,asc:Ne,getPercentWithPrecision:Fe,getPixelPrecision:qe,getPrecision:He,getPrecisionSafe:Xe,isNumeric:Ze,isRadianAroundZero:Je,linearMap:Ke,nice:Qe,numericToNumber:ea,parseDate:he,quantile:aa,quantity:ta,quantityExponent:ra,reformIntervals:ia,remRadian:sa,round:na},Symbol.toStringTag,{value:"Module"})),wr=Object.freeze(Object.defineProperty({__proto__:null,format:la,parse:he},Symbol.toStringTag,{value:"Module"})),Pr=Object.freeze(Object.defineProperty({__proto__:null,Arc:oa,BezierCurve:da,BoundingRect:ge,Circle:fe,CompoundPath:me,Ellipse:ua,Group:H,Image:ca,IncrementalDisplayable:va,Line:ha,LinearGradient:ga,Polygon:fa,Polyline:ma,RadialGradient:pa,Rect:X,Ring:ya,Sector:ba,Text:Y,clipPointsByRect:Sa,clipRectByRect:wa,createIcon:Pa,extendPath:Ma,extendShape:pe,getShapeClass:Ca,getTransform:Ia,initProps:ye,makeImage:Ta,makePath:Z,mergePath:_a,registerShape:xa,resizePath:La,updateProps:G},Symbol.toStringTag,{value:"Module"})),Mr=Object.freeze(Object.defineProperty({__proto__:null,addCommas:Da,capitalFirst:Oa,encodeHTML:Ra,formatTime:za,formatTpl:ka,getTextRect:gr,getTooltipMarker:Aa,normalizeCssArray:Ea,toCamelCase:Ba,truncateText:$a},Symbol.toStringTag,{value:"Module"})),Cr=Object.freeze(Object.defineProperty({__proto__:null,bind:ja,clone:Wa,curry:Ga,defaults:Ya,each:Ua,extend:Va,filter:Na,indexOf:Fa,inherits:qa,isArray:Ha,isFunction:Xa,isObject:Za,isString:Ja,map:Ka,merge:Qa,reduce:et},Symbol.toStringTag,{value:"Module"}));function Ir(e){var a=J.extend(e);return J.registerClass(a),a}function Tr(e){var a=K.extend(e);return K.registerClass(a),a}function Ie(e){var a=Q.extend(e);return Q.registerClass(a),a}function Te(e){var a=ee.extend(e);return ee.registerClass(a),a}const de=Object.freeze(Object.defineProperty({__proto__:null,Axis:at,ChartView:ee,ComponentModel:J,ComponentView:K,List:be,Model:F,PRIORITY:tt,SeriesModel:Q,color:rt,connect:it,dataTool:st,dependencies:nt,disConnect:lt,disconnect:ot,dispose:dt,env:ut,extendChartView:Te,extendComponentModel:Ir,extendComponentView:Tr,extendSeriesModel:Ie,format:Mr,getCoordinateSystemDimensions:ct,getInstanceByDom:vt,getInstanceById:ht,getMap:gt,graphic:Pr,helper:br,init:ft,innerDrawElementOnCanvas:mt,matrix:pt,number:Sr,parseGeoJSON:ne,parseGeoJson:ne,registerAction:yt,registerCoordinateSystem:bt,registerLayout:St,registerLoading:wt,registerLocale:Pt,registerMap:Mt,registerPostInit:Ct,registerPostUpdate:It,registerPreprocessor:Tt,registerProcessor:_t,registerTheme:xt,registerTransform:Lt,registerUpdateLifecycle:Dt,registerVisual:Ot,setCanvasCreator:Rt,setPlatformAPI:zt,throttle:kt,time:wr,use:U,util:Cr,vector:At,version:Et,zrUtil:Bt,zrender:$t},Symbol.toStringTag,{value:"Module"}));U([Se,we]);U(Pe);Ie({type:"series.liquidFill",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,a){var r=ce(e.data,{coordDimensions:["value"]}),u=new be(r,this);return u.initData(e.data),u},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});const _r=pe({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(e,a){a.radiusY==null&&(a.radiusY=a.radius);for(var r=Math.max(Math.ceil(2*a.radius/a.waveLength*4)*2,8);a.phase<-Math.PI*2;)a.phase+=Math.PI*2;for(;a.phase>0;)a.phase-=Math.PI*2;var u=a.phase/Math.PI/2*a.waveLength,c=a.cx-a.radius+u-a.radius*2;e.moveTo(c,a.waterLevel);for(var n=0,m=0;m<r;++m){var _=m%4,l=xr(m*a.waveLength/4,_,a.waveLength,a.amplitude);e.bezierCurveTo(l[0][0]+c,-l[0][1]+a.waterLevel,l[1][0]+c,-l[1][1]+a.waterLevel,l[2][0]+c,-l[2][1]+a.waterLevel),m===r-1&&(n=l[2][0])}a.inverse?(e.lineTo(n+c,a.cy-a.radiusY),e.lineTo(c,a.cy-a.radiusY),e.lineTo(c,a.waterLevel)):(e.lineTo(n+c,a.cy+a.radiusY),e.lineTo(c,a.cy+a.radiusY),e.lineTo(c,a.waterLevel)),e.closePath()}});function xr(e,a,r,u){return a===0?[[e+1/2*r/Math.PI/2,u/2],[e+1/2*r/Math.PI,u],[e+r/4,u]]:a===1?[[e+1/2*r/Math.PI/2*(Math.PI-2),u],[e+1/2*r/Math.PI/2*(Math.PI-1),u/2],[e+r/4,0]]:a===2?[[e+1/2*r/Math.PI/2,-u/2],[e+1/2*r/Math.PI,-u],[e+r/4,-u]]:[[e+1/2*r/Math.PI/2*(Math.PI-2),-u],[e+1/2*r/Math.PI/2*(Math.PI-1),-u/2],[e+r/4,0]]}var T=jt;function ue(e){return e&&e.indexOf("path://")===0}Te({type:"liquidFill",render:function(e,a,r){var u=this,c=this.group;c.removeAll();var n=e.getData(),m=n.getItemModel(0),_=m.get("center"),l=m.get("radius"),x=r.getWidth(),S=r.getHeight(),R=Math.min(x,S),O=0,L=0,j=e.get("outline.show");j&&(O=e.get("outline.borderDistance"),L=T(e.get("outline.itemStyle.borderWidth"),R));var I=T(_[0],x),b=T(_[1],S),D,z,k,P=!1,w=e.get("shape");if(w==="container"?(P=!0,D=[x/2,S/2],z=[D[0]-L/2,D[1]-L/2],k=[T(O,x),T(O,S)],l=[Math.max(z[0]-k[0],0),Math.max(z[1]-k[1],0)]):(D=T(l,R)/2,z=D-L/2,k=T(O,R),l=Math.max(z-k,0)),j){var _e=ae();_e.style.lineWidth=L,c.add(ae())}var xe=P?0:I-l,Le=P?0:b-l,A=null;c.add(De());var V=this._data,N=[];n.diff(V).add(function(t){var i=te(t,!1),s=i.shape.waterLevel;i.shape.waterLevel=P?S/2:l,ye(i,{shape:{waterLevel:s}},e),i.z2=2,re(t,i,null),c.add(i),n.setItemGraphicEl(t,i),N.push(i)}).update(function(t,i){for(var s=V.getItemGraphicEl(i),v=te(t,!1,s),d={},o=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],g=0;g<o.length;++g){var h=o[g];v.shape.hasOwnProperty(h)&&(d[h]=v.shape[h])}for(var p={},f=["fill","opacity","shadowBlur","shadowColor"],g=0;g<f.length;++g){var h=f[g];v.style.hasOwnProperty(h)&&(p[h]=v.style[h])}P&&(d.radiusY=S/2),G(s,{shape:d,x:v.x,y:v.y},e),e.isUniversalTransitionEnabled&&e.isUniversalTransitionEnabled()?G(s,{style:p},e):s.useStyle(p);var y=s.getClipPath(),M=v.getClipPath();s.setClipPath(v.getClipPath()),s.shape.inverse=v.inverse,y&&M&&u._shape===w&&!ue(w)&&G(M,{shape:y.shape},e,{isFrom:!0}),re(t,s,s),c.add(s),n.setItemGraphicEl(t,s),N.push(s)}).remove(function(t){var i=V.getItemGraphicEl(t);c.remove(i)}).execute(),m.get("label.show")&&c.add(Oe(N)),this._shape=w,this._data=n;function E(t,i){if(w)if(ue(w)){var s=Z(w.slice(7),{}),v=s.getBoundingRect(),d=v.width,o=v.height;d>o?(o=t*2/d*o,d=t*2):(d=t*2/o*d,o=t*2);var g=i?0:I-d/2,h=i?0:b-o/2;return s=Z(w.slice(7),{},new ge(g,h,d,o)),i&&(s.x=-d/2,s.y=-o/2),s}else if(P){var p=i?-t[0]:I-t[0],f=i?-t[1]:b-t[1];return q("rect",p,f,t[0]*2,t[1]*2)}else{var p=i?-t:I-t,f=i?-t:b-t;return w==="pin"?f+=t:w==="arrow"&&(f-=t),q(w,p,f,t*2,t*2)}return new fe({shape:{cx:i?0:I,cy:i?0:b,r:t}})}function ae(){var t=E(D);return t.style.fill=null,t.setStyle(e.getModel("outline.itemStyle").getItemStyle()),t}function De(){var t=E(l);t.setStyle(e.getModel("backgroundStyle").getItemStyle()),t.style.fill=null,t.z2=5;var i=E(l);i.setStyle(e.getModel("backgroundStyle").getItemStyle()),i.style.stroke=null;var s=new H;return s.add(t),s.add(i),s}function te(t,i,s){var v=P?l[0]:l,d=P?S/2:l,o=n.getItemModel(t),g=o.getModel("itemStyle"),h=o.get("phase"),p=T(o.get("amplitude"),d*2),f=T(o.get("waveLength"),v*2),y=n.get("value",t),M=d-y*d*2;h=s?s.shape.phase:h==="auto"?t*Math.PI/4:h;var C=g.getItemStyle();if(!C.fill){var B=e.get("color"),W=t%B.length;C.fill=B[W]}var Re=v*2,$=new _r({shape:{waveLength:f,radius:v,radiusY:d,cx:Re,cy:0,waterLevel:M,amplitude:p,phase:h,inverse:i},style:C,x:I,y:b});$.shape._waterLevel=M;var ie=o.getModel("emphasis.itemStyle").getItemStyle();ie.lineWidth=0,$.ensureState("emphasis").style=ie,ve($);var se=E(l,!0);return se.setStyle({fill:"white"}),$.setClipPath(se),$}function re(t,i,s){var v=n.getItemModel(t),d=v.get("period"),o=v.get("direction"),g=n.get("value",t),h=v.get("phase");h=s?s.shape.phase:h==="auto"?t*Math.PI/4:h;var p=function(M){var C=n.count();return C===0?M:M*(.2+(C-t)/C*.8)},f=0;d==="auto"?f=p(5e3):f=typeof d=="function"?d(g,t):d;var y=0;o==="right"||o==null?y=Math.PI:o==="left"?y=-Math.PI:o==="none"?y=0:console.error("Illegal direction value for liquid fill."),o!=="none"&&v.get("waveAnimation")&&i.animate("shape",!0).when(0,{phase:h}).when(f/2,{phase:y+h}).when(f,{phase:y*2+h}).during(function(){A&&A.dirty(!0)}).start()}function Oe(t){var i=m.getModel("label");function s(){var C=e.getFormattedLabel(0,"normal"),B=n.get("value",0)*100,W=n.getName(0)||e.name;return isNaN(B)||(W=B.toFixed(0)+"%"),C??W}var v={z2:10,shape:{x:xe,y:Le,width:(P?l[0]:l)*2,height:(P?l[1]:l)*2},style:{fill:"transparent"},textConfig:{position:i.get("position")||"inside"},silent:!0},d={style:{text:s(),textAlign:i.get("align"),textVerticalAlign:i.get("baseline")}};Object.assign(d.style,Ce(i));var o=new X(v),g=new X(v);g.disableLabelAnimation=!0,o.disableLabelAnimation=!0;var h=new Y(d),p=new Y(d);o.setTextContent(h),g.setTextContent(p);var f=i.get("insideColor");p.style.fill=f;var y=new H;y.add(o),y.add(g);var M=E(l,!0);return A=new me({shape:{paths:t},x:I,y:b}),A.setClipPath(M),g.setClipPath(A),y}},dispose:function(){}});U([Wt,Gt,Yt,we,Ut,Vt,Nt,Ft,qt,Ht,Xt,Zt,Jt,Kt,Qt,er,ar,Pe,tr,Se]);const Lr=Me({name:"ECharts"}),zr=Me({...Lr,props:{option:{},renderer:{default:"canvas"},resize:{type:Boolean,default:!0},theme:{},width:{},height:{},onClick:{}},setup(e,{expose:a}){const r=e,u=rr(()=>r.width||r.height?{height:r.height+"%",width:r.width+"%"}:{height:"100%",width:"100%"}),c=le(),n=le(),m=()=>{n.value&&n.value.setOption(r.option,{notMerge:!0})};oe(r,()=>{m()});const _=b=>r.onClick&&r.onClick(b),l=()=>{c.value&&(n.value=de.getInstanceByDom(c.value),n.value||(n.value=vr(de.init(c.value,r.theme,{renderer:r.renderer})),n.value.on("click",_),m()))},x=()=>{n.value&&r.resize&&n.value.resize({animation:{duration:300}})},S=hr(x,300,{maxWait:800}),R=ir(),{maximize:O,isCollapse:L,tabs:j,footer:I}=sr(R);return oe(()=>[O,L,j,I],()=>{S()},{deep:!0}),nr(()=>{lr(()=>l()),window.addEventListener("resize",S)}),or(()=>{var b;(b=n.value)==null||b.dispose(),window.removeEventListener("resize",S)}),a({getInstance:()=>n.value,resize:x,draw:m}),(b,D)=>(dr(),ur("div",{id:"echarts",ref_key:"chartRef",ref:c,style:cr(u.value)},null,4))}});export{zr as _,de as e};
