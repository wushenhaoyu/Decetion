import{_ as B}from"./index.vue_vue_type_script_setup_true_name_ECharts_lang-4AO8XiOF.js";import{d as v,G as R,m as y,V as k,r as u,a6 as $,o as d,c as M,a as F,b as s,w as o,ac as b,h as m,e as r,u as n,a7 as H,aa as I,ab as P,x as Y,t as g,R as f,ag as G,ah as z,a9 as J}from"./index-jvtWBQTx.js";import{I as O,u as q,a as W}from"./index-J6cgkzRL.js";import{_ as j}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-xXfAj66y.js";import{_ as K}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-l6BQfv9g.js";import{a as Q,e as T,B as X,b as Z,c as ee,d as ae,f as te}from"./user-B5eqbc-g.js";import"./installCanvasRenderer-jwypoAcp.js";import"./index-Gg_wllbp.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./sortable.esm-7KB62mPT.js";import"./video-js-tupHlAe4.js";import"./upload-tKNuBlkM.js";const le={class:"card content-box",style:{height:"200%"}},se={style:{height:"50%",width:"100%"}},oe=v({name:"useProTable"}),xe=v({...oe,setup(re){R();const w=!1,i=y(),S=k({type:1}),C=a=>({list:a.list,total:a.total,pageNum:a.pageNum,pageSize:a.pageSize}),A=a=>{let e=JSON.parse(JSON.stringify(a));return e.createTime&&(e.startTime=e.createTime[0]),e.createTime&&(e.endTime=e.createTime[1]),delete e.createTime,Q(e)},D=k([{type:"selection",fixed:"left",width:70},{type:"sort",label:"Sort",width:80},{type:"expand",label:"Expand",width:85},{prop:"gender",label:"性别",enum:ae,search:{el:"select",props:{filterable:!0}},fieldNames:{label:"genderLabel",value:"genderValue"}},{prop:"user.detail.age",label:"年龄",search:{render:({searchParam:a})=>s("div",{class:"flx-center"},[s(u("el-input"),{modelValue:a.minAge,modelModifiers:{trim:!0},"onUpdate:modelValue":e=>a.minAge=e,placeholder:"最小年龄"},null),s("span",{class:"mr10 ml10"},[r("-")]),s(u("el-input"),{modelValue:a.maxAge,modelModifiers:{trim:!0},"onUpdate:modelValue":e=>a.maxAge=e,placeholder:"最大年龄"},null)])}},{prop:"createTime",label:"挂号时间",headerRender:a=>s(u("el-button"),{type:"primary",onClick:()=>f.success("我是通过 tsx 语法渲染的表头")},{default:()=>[a.column.label]}),width:180,search:{el:"date-picker",span:2,props:{type:"datetimerange",valueFormat:"YYYY-MM-DD HH:mm:ss"},defaultValue:["2022-11-12 11:35:00","2024-12-12 11:35:00"]}},{prop:"operation",label:"操作",fixed:"right",width:120}]),V=({newIndex:a,oldIndex:e})=>{var t;(t=i.value)==null||t.tableData,f.success("修改列表排序成功")},L=async a=>{var e,t;await W(te,{id:a},"删除所选用户信息"),(e=i.value)==null||e.clearSelection(),(t=i.value)==null||t.getTableList()},E=async()=>{z.confirm("确认导出用户数据?","温馨提示",{type:"warning"}).then(()=>{var a;return q(T,"用户列表",(a=i.value)==null?void 0:a.searchParam)})},_=y(null),N=()=>{var e,t;const a={title:"用户",tempApi:T,importApi:X,getTableList:(e=i.value)==null?void 0:e.getTableList};(t=_.value)==null||t.acceptParams(a)},h=y(null),x=(a,e={})=>{var c,l;const t={title:a,isView:a==="查看",row:{...e},api:a==="新增"?Z:a==="编辑"?ee:void 0,getTableList:(c=i.value)==null?void 0:c.getTableList,id:e.id};(l=h.value)==null||l.acceptParams(t)},U={title:{text:"",textStyle:{color:"#a1a1a1"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Email","Union Ads","Video Ads","Direct","Search Engine"],textStyle:{color:"#a1a1a1"}},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLabel:{color:"#a1a1a1"}}],yAxis:[{type:"value",axisLabel:{color:"#a1a1a1"}}],series:[{name:"陕西省人民医院",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[120,132,101,134,90,230,210]},{name:"西京医院",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[220,182,191,234,290,330,310]},{name:"西交第一附属医院",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[150,232,201,154,190,330,410]},{name:"西交第二附属医院",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[320,332,301,334,390,330,320]},{name:"西工大附属医院",type:"line",stack:"Total",label:{show:!0,position:"top"},areaStyle:{},emphasis:{focus:"series"},data:[820,932,901,934,1290,1330,1320]}]};return(a,e)=>{const t=u("el-button"),c=$("auth");return d(),M("div",le,[F("div",se,[s(B,{option:U})]),s(j,{ref_key:"proTable",ref:i,columns:D,"request-api":A,"init-param":S,"data-callback":C,onDargSort:V},{tableHeader:o(l=>[b((d(),m(t,{type:"primary",icon:n(H),onClick:e[0]||(e[0]=p=>x("新增"))},{default:o(()=>[r("新增用户")]),_:1},8,["icon"])),[[c,"add"]]),b((d(),m(t,{type:"primary",icon:n(I),plain:"",onClick:N},{default:o(()=>[r("批量添加用户")]),_:1},8,["icon"])),[[c,"batchAdd"]]),b((d(),m(t,{type:"primary",icon:n(P),plain:"",onClick:E},{default:o(()=>[r("导出用户数据")]),_:1},8,["icon"])),[[c,"export"]]),w?(d(),m(t,{key:0,type:"danger",icon:n(J),plain:"",disabled:!l.isSelected,onClick:p=>L(l.selectedListIds)},{default:o(()=>[r(" 批量删除用户 ")]),_:2},1032,["icon","disabled","onClick"])):Y("",!0)]),expand:o(l=>[r(g(l.row),1)]),usernameHeader:o(l=>[s(t,{type:"primary",onClick:e[1]||(e[1]=p=>n(f).success("我是通过作用域插槽渲染的表头"))},{default:o(()=>[r(g(l.column.label),1)]),_:2},1024)]),createTime:o(l=>[s(t,{type:"primary",link:"",onClick:e[2]||(e[2]=p=>n(f).success("我是通过作用域插槽渲染的内容"))},{default:o(()=>[r(g(l.row.createTime),1)]),_:2},1024)]),operation:o(l=>[s(t,{type:"primary",link:"",icon:n(G),onClick:p=>x("查看",l.row)},{default:o(()=>[r("查看")]),_:2},1032,["icon","onClick"])]),_:1},8,["columns","init-param"]),s(K,{ref_key:"drawerRef",ref:h},null,512),s(O,{ref_key:"dialogRef",ref:_},null,512)])}}});export{xe as default};
